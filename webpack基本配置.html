<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">webpack基本配置 | 读心悦</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://duxinyues.github.io/webpack基本配置"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="baidu-site-verification" content="codeva-72M8DxG1za"><meta data-rh="true" name="keywords" content="前端, react, javascript, css, react, vue, typescript, 博客，阅读，悦读,读心悦"><meta data-rh="true" property="og:title" content="webpack基本配置 | 读心悦"><meta data-rh="true" name="description" content="现在的前端，出现很多种可以提高开发效率的工具和框架，但是源码却不能直接运行，只有通过转换之后才能正常运行。"><meta data-rh="true" property="og:description" content="现在的前端，出现很多种可以提高开发效率的工具和框架，但是源码却不能直接运行，只有通过转换之后才能正常运行。"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-07-05T05:37:52.000Z"><meta data-rh="true" property="article:tag" content="配置"><link data-rh="true" rel="icon" href="/img/logo.jpg"><link data-rh="true" rel="canonical" href="https://duxinyues.github.io/webpack基本配置"><link data-rh="true" rel="alternate" href="https://duxinyues.github.io/webpack基本配置" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://duxinyues.github.io/webpack基本配置" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6SSMX931TK-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="读心悦 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="读心悦 Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="读心悦" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/reading/rss.xml" title="读心悦 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/reading/atom.xml" title="读心悦 Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/lifestyle/rss.xml" title="读心悦 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/lifestyle/atom.xml" title="读心悦 Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/java/rss.xml" title="读心悦 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/java/atom.xml" title="读心悦 Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/react/rss.xml" title="读心悦 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/react/atom.xml" title="读心悦 Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/electron/rss.xml" title="读心悦 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/electron/atom.xml" title="读心悦 Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/javaScript/rss.xml" title="读心悦 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/javaScript/atom.xml" title="读心悦 Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/css/rss.xml" title="读心悦 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/css/atom.xml" title="读心悦 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e691ad75.css">
<link rel="preload" href="/assets/js/runtime~main.89c84a0f.js" as="script">
<link rel="preload" href="/assets/js/main.949aa301.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ 如果这个网站能帮助到你，欢迎给一个star支持作者  <a target="_blank" rel="noopener noreferrer" href="https://github.com/duxinyues/blog">GitHub</a></div><button type="button" aria-label="关闭" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.jpg" alt="读心悦" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.jpg" alt="读心悦" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">读心悦</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/">首页</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/lifestyle">随笔</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/java">后端</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/java">Java</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">前端</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/react">React</a></li><li><a class="dropdown__link" href="/electron">Electron</a></li><li><a class="dropdown__link" href="/css">CSS</a></li><li><a class="dropdown__link" href="/javaScript">JavaScript</a></li></ul></div><a class="navbar__item navbar__link" href="/reading">技术书籍</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">全部博文</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/前端性能">前端性能</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/babel">babel</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/webpack基本配置">webpack基本配置</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="现在的前端，出现很多种可以提高开发效率的工具和框架，但是源码却不能直接运行，只有通过转换之后才能正常运行。"><header><h1 class="title_f1Hy" itemprop="headline">webpack基本配置</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-07-05T05:37:52.000Z" itemprop="datePublished">2023年7月5日</time> · <!-- -->阅读需 22 分钟</div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>现在的前端，出现很多种可以提高开发效率的工具和框架，但是源码却不能直接运行，只有通过转换之后才能正常运行。</p><p>那么构建就是把源码转化为可以执行的JavaScript、HTML和CSS代码。</p><p>构建包含：</p><ol><li>代码转换【比如typescript编译为JavaScript，scss编译为CSS】；</li><li>文件优化，比如压缩JavaScript，压缩合成图片；</li><li>代码分割，提取公共代码，提取首页不需要执行的代码让它异步加载；</li><li>模块合并，把模块分类合并成一个文件；</li><li>自动刷新，监听本地源码的变化，自动重新构建、刷新浏览器；</li><li>代码校验</li><li>自动发布。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="基础">基础<a href="#基础" class="hash-link" aria-label="基础的直接链接" title="基础的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="webpack">webpack<a href="#webpack" class="hash-link" aria-label="webpack的直接链接" title="webpack的直接链接">​</a></h3><p>webpack是一个打包模块化JavaScript的工具，通过loader转换文件，通过Plugin注入钩子，最后输出文件。</p><p>webpack专注于构建模块化项目。优点是：</p><ol><li>能做到开箱即用，一步到位；</li><li>通过Plugin扩展，灵活</li><li>使用的场景广泛</li><li>社区活跃，可以找到很多场景下的开源扩展</li><li>有良好的体验</li></ol><p>webpack也有缺点，就是只能用于采用模块化开发的项目。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="webpack配置">webpack配置<a href="#webpack配置" class="hash-link" aria-label="webpack配置的直接链接" title="webpack配置的直接链接">​</a></h3><p>1、 首先安装webpack和webpack-cli；
2、 创建基础的JavaScript文件盒HTML，代码如下：</p><p>index.html：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!DOCTYPE html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;html lang=&quot;en&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;title&gt;Document&lt;/title&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;script src=&quot;./dist/bundle.js&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/html&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>工具函数的JavaScript文件index.js:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function show(content){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    window.document.getElementById(&quot;root&quot;).innerText = &quot;Hello，&quot; + content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = show;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>main.js代码如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const show = require(&quot;./index&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show(&quot;Webpack&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>package.json配置如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;scripts&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;build&quot;: &quot;webpack&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>webpack的配置文件webpack.config.js如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const path = require(&quot;path&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    entry:&quot;./main.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filename:&quot;bundle.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        path:path.resolve(__dirname,&quot;./dist&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>执行命令：<code>yarn build</code>，在浏览器中打开index.html文件，页面会显示：“Hello，Webpack”</p><p>执行命令后，文件夹下会生成一个dist文件夹，dist就是就是编译后的静态代码。</p><p>执行打包命令后，webpack从entry的配置文件开始，识别出源码中的模块化导入语句，递归地找出入口文件的依赖，然后进行打包。</p><p>这就是webpack基本的打包流程。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="loader">Loader<a href="#loader" class="hash-link" aria-label="Loader的直接链接" title="Loader的直接链接">​</a></h3><p>由于webpack不能解析CSS文件，那就需要同Loader机制来支持一些非JavaScript类型的文件，webpack.config.js配置更新如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const path = require(&quot;path&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    entry: &quot;./main.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filename: &quot;bundle.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        path: path.resolve(__dirname, &quot;./dist&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    module: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rules: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                test: /\.css$/,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置了一组规则，在打包的时候，遇到CSS文件就是用css-loader来读取CSS文件，再使用style-loader来把CSS内容注入到JavaScript中。</p><p>规则里面的use属性，是一个由Loader名称组成的数组，Loader的执行顺序是由后往前。</p><p>我们可以在对应的Loader文档上查阅相关的用法。</p><p>现在添加CSS文件main.css:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#root {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text-align: center;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>main.js中引入main.css:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">require(&quot;./main.css&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const show = require(&quot;./index&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show(&quot;Webpack&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>执行命令后，页面的文字居中了。</p><p>这时候，并没有生成单独的CSS文件，CSS全部卸载JavaScript文件中，这样会有一个缺点，就是JavaScript文件变大，导致加载页面时间变长。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="plugin">Plugin<a href="#plugin" class="hash-link" aria-label="Plugin的直接链接" title="Plugin的直接链接">​</a></h3><p>Plugin是实现扩展Webpack功能的，在构建流程中注入钩子，这样给webpack带来很大的灵活性。</p><p>现在就实现打包生成单独的CSS文件。需要安装插件：<code>mini-css-extract-plugin</code>，webpack.config.js配置更新如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const path = require(&quot;path&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const MiniCssExtractPlugin = require(&#x27;mini-css-extract-plugin&#x27;); //抽离CSS为独立文件的插件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mode: &#x27;development&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    entry: &quot;./main.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filename: &quot;bundle.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        path: path.resolve(__dirname, &quot;./dist&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    module: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rules: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                test: /\.(css)$/,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                use: [MiniCssExtractPlugin.loader, &#x27;css-loader&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    plugins: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new MiniCssExtractPlugin({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 指定抽离的之后形成的文件名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            filename: &#x27;styles/[name]_[contenthash:8].css&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>打包后生成单独的CSS文件：main_094aa2e7.css，然后在HTML文件中引入CSS。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="devserver">DevServer<a href="#devserver" class="hash-link" aria-label="DevServer的直接链接" title="DevServer的直接链接">​</a></h3><blockquote><p>在开发中，启动项目需要http服务，而不是本地文件预览，这就需要监听文件的变化来自动刷新页面，可以支持source map，方便调试。</p><p>webpack官方提供了webpack-dev-server，实现了http服务。</p><p>配置如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const webpack = require(&#x27;webpack&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const path = require(&quot;path&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const MiniCssExtractPlugin = require(&#x27;mini-css-extract-plugin&#x27;); //抽离CSS为独立文件的插件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mode: &#x27;development&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    entry: &quot;./main.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filename: &quot;bundle.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        path: path.resolve(__dirname, &quot;./dist&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    module: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rules: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                test: /\.(css)$/,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                use: [MiniCssExtractPlugin.loader, &#x27;css-loader&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    plugins: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new MiniCssExtractPlugin({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 指定抽离的之后形成的文件名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // filename: &#x27;styles/[name]_[contenthash:8].css&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            filename: &#x27;styles/[name]_[contenthash:8].css&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new webpack.HotModuleReplacementPlugin(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devServer: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 开发时可直接访问到 ./public 下的静态资源，这些资源在开发中不必打包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        port: 3000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        open: true, // 打开浏览器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        compress: false, // 是否压缩</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        static: &quot;./&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;/api&#x27;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                target: &quot;https://api.github.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                pathRewrite: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;^/api&quot;: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                changeOrigin: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hotOnly: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>总结一下webpack的几个核心：</p><p>· Entry：入口，Webpack执行构建的第一步将从Entry开始，可抽象成输入。</p><p>· Module：模块，在Webpack里一切皆模块，一个模块对应一个文件。Webpack会从配置的Entry开始递归找出所有依赖的模块。</p><p>· Chunk：代码块，一个Chunk由多个模块组合而成，用于代码合并与分割。</p><p>· Loader：模块转换器，用于将模块的原内容按照需求转换成新内容。</p></blockquote><blockquote><p>· Plugin：扩展插件，在Webpack构建流程中的特定时机注入扩展逻辑，来改变构建结果或做我们想要的事情。</p><p>· Output：输出结果，在Webpack经过一系列处理并得出最终想要的代码后输出结果。</p><p>· Resolve：配置寻找模块的规则</p><p>· DevServer：配置DevServer</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置">配置<a href="#配置" class="hash-link" aria-label="配置的直接链接" title="配置的直接链接">​</a></h2><blockquote><p>webpack的配置有两种方式：</p><ol><li>通过JavaScript文件描述配置，比如webpack.config.js；</li><li>执行Webpack可执行文件的时候，通过命令行传入参数；</li></ol><p>这样输入不同命令，执行不同的配置文件。</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="entry">Entry<a href="#entry" class="hash-link" aria-label="Entry的直接链接" title="Entry的直接链接">​</a></h3><blockquote><p>Entry作为配置模块的入口。默认的情况下，会以context为根目录，context默认&gt; 是启动Webpack时所在的工作目录。比如：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    context:path.resolve(__dirname,&quot;app&quot;),</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这是选择将当前工作目录的app目录下作为webpack的工作目录。</p><p>entry的类型可以是String、Array或者Object，当参数为Object的时候，配置多个入口。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">       entry: &quot;./main.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // entry: {a:&quot;./main.js&quot;,b:&quot;./index.js&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // entry:[&quot;./index.js&quot;,&quot;./main.js&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // context:path.resolve(__dirname,&quot;app&quot;),</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="output">Output<a href="#output" class="hash-link" aria-label="Output的直接链接" title="Output的直接链接">​</a></h3><blockquote><p>配置输出代码，属性值是一个Object类型，参数如下：</p><ol><li>filename，可以定义为自己喜欢的文件名，当时设置多个入口的时候，会根据入口的名称来区分输出文件名：<code>filename:&#x27;[name].js&#x27;</code>，这个变量名可以是name、id、hash或者chunkhash；</li><li>path，设置输出文件的目录，一般是会通过node的path模块获取绝对路径，比如：<code>path: path.resolve(__dirname, &quot;./dist&quot;)</code>；</li><li>publicPath，有时候项目构建出的资源需要异步加载，publicPath是设置了需要异步加载的资源对应的URL地址。比如将构建的资源发布到CDN服务器上，利于加快页面的打开速度，配置如下：</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">filename:&#x27;[name]_[chunkhash:8].js&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">publicPath:&quot;https:cdn.duxinyues.com/assets/&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="module">Module<a href="#module" class="hash-link" aria-label="Module的直接链接" title="Module的直接链接">​</a></h3><blockquote><p>module配置处理模块的规则，比如配置对样式文件的解析：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                test: /\.(css)$/,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                use: [MiniCssExtractPlugin.loader, &#x27;css-loader&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                exclude: path.resolve(__dirname, &quot;node_modules&quot;), // 排除node_modules下的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolve">Resolve<a href="#resolve" class="hash-link" aria-label="Resolve的直接链接" title="Resolve的直接链接">​</a></h3><blockquote><p>Webpack启动后，是从入口模块出发，找出所有依赖的模块，Resolve是配置webpack如何寻找模块对应的文件。如果没有配置，那么webpack会按照默认的规则进行查找。</p></blockquote><blockquote><ol><li>alias，配置别名，通过别名的方式将原来导入路径映射成一个简单的导入路径。</li><li>extension，在导入语句没有带文件后缀名的时候，webpack会自动加上后缀名，去访问对应的文件是否存在，比如：<code>extension:[&#x27;.js&#x27;,&#x27;.json&#x27;]</code>，在配置中都找不到对应的文件，那就报错</li><li>modules，配置第三方模块，webpack会默认去node_modules下寻找，如果同一个模块被不同位置的文件引入，就会导致引入路径很长，通过modules的配置，这样优化了导入路径。</li><li>enforceExtension，设置为true时，所有导入语句必须带上后缀。</li></ol></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-1">Plugin<a href="#plugin-1" class="hash-link" aria-label="Plugin的直接链接" title="Plugin的直接链接">​</a></h3><blockquote><p>Plugin用来扩展Webpack的功能，比如：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    plugins: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new MiniCssExtractPlugin({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 指定抽离的之后形成的文件名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // filename: &#x27;styles/[name]_[contenthash:8].css&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            filename: &#x27;styles/[name]_[contenthash:8].css&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new webpack.HotModuleReplacementPlugin(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolveloader">resolveLoader<a href="#resolveloader" class="hash-link" aria-label="resolveLoader的直接链接" title="resolveLoader的直接链接">​</a></h3><p>resolveLoader配置Webpack如何查找Loader，比如：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   resolveLoader:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    modules:[&#x27;node_modules&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    extensions:[&quot;.js&quot;,&#x27;.json&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>resolveLoader一般用于加载本地的Loader。</p><h3></h3></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/配置">配置</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/duxinyues/blog/blob/main/blog/webpack.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/babel"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">babel</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#基础" class="table-of-contents__link toc-highlight">基础</a><ul><li><a href="#webpack" class="table-of-contents__link toc-highlight">webpack</a></li><li><a href="#webpack配置" class="table-of-contents__link toc-highlight">webpack配置</a></li><li><a href="#loader" class="table-of-contents__link toc-highlight">Loader</a></li><li><a href="#plugin" class="table-of-contents__link toc-highlight">Plugin</a></li><li><a href="#devserver" class="table-of-contents__link toc-highlight">DevServer</a></li></ul></li><li><a href="#配置" class="table-of-contents__link toc-highlight">配置</a><ul><li><a href="#entry" class="table-of-contents__link toc-highlight">Entry</a></li><li><a href="#output" class="table-of-contents__link toc-highlight">Output</a></li><li><a href="#module" class="table-of-contents__link toc-highlight">Module</a></li><li><a href="#resolve" class="table-of-contents__link toc-highlight">Resolve</a></li><li><a href="#plugin-1" class="table-of-contents__link toc-highlight">Plugin</a></li><li><a href="#resolveloader" class="table-of-contents__link toc-highlight">resolveLoader</a></li></ul></li></ul></div></div></div></div></div></div>
<script src="/assets/js/runtime~main.89c84a0f.js"></script>
<script src="/assets/js/main.949aa301.js"></script>
</body>
</html>